do i have to choose protocols for each layer and how 